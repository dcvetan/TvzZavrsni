CREATE TABLE IF NOT EXISTS profile (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    hashed_password VARCHAR(255) NOT NULL,
    salt CHAR(36) NOT NULL
);

CREATE TABLE IF NOT EXISTS currency (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    code CHAR(3) UNIQUE NOT NULL,
    symbol VARCHAR(50) NOT NULL,
    exchange_rate BIGINT NOT NULL,
    last_update_date TIMESTAMP WITHOUT TIME ZONE NOT NULL
);

CREATE TABLE IF NOT EXISTS category (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    icon VARCHAR(50) NOT NULL,
    color CHAR(7) NOT NULL,
    profile_id INT REFERENCES profile
);

CREATE INDEX IF NOT EXISTS category_profile_id_idx ON category(profile_id);

CREATE TABLE IF NOT EXISTS account (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    amount BIGINT NOT NULL,
    type VARCHAR(10) NOT NULL,
    color CHAR(7) NOT NULL,
    source VARCHAR(10) NOT NULL,
    profile_id INT NOT NULL REFERENCES profile,
    currency_id INT NOT NULL REFERENCES currency
);

CREATE INDEX IF NOT EXISTS account_currency_id_idx ON account(currency_id);

CREATE TABLE IF NOT EXISTS record (
    id SERIAL PRIMARY KEY,
    amount BIGINT NOT NULL,
    type VARCHAR(10) NOT NULL,
    record_date TIMESTAMP WITHOUT TIME ZONE NOT NULL,
    description VARCHAR(255),
    category_id INT NOT NULL REFERENCES category,
    account_id INT NOT NULL REFERENCES account,
    receiving_account_id INT REFERENCES account
);

CREATE INDEX IF NOT EXISTS record_account_id_idx ON record(account_id);

INSERT INTO currency (name, code, symbol, exchange_rate, last_update_date)
    VALUES
        ('United Arab Emirates Dirham', 'AED', 'AED', 4034311, '2023-08-11T00:40:03'),
        ('Afghan Afghani', 'AFN', 'AFN', 92234856, '2023-08-11T00:40:03'),
        ('Albanian Lek', 'ALL', 'ALL', 103384683, '2023-08-11T00:40:03'),
        ('Armenian Dram', 'AMD', 'AMD', 424020528, '2023-08-11T00:40:03'),
        ('Netherlands Antillean Guilder', 'ANG', 'ANG', 1979548, '2023-08-11T00:40:03'),
        ('Angolan Kwanza', 'AOA', 'AOA', 906053928, '2023-08-11T00:40:03'),
        ('Argentine Peso', 'ARS', 'ARS', 314311087, '2023-08-11T00:40:03'),
        ('Australian Dollar', 'AUD', 'A$', 1684908, '2023-08-11T00:40:03'),
        ('Aruban Florin', 'AWG', 'AWG', 1979790, '2023-08-11T00:40:03'),
        ('Azerbaijani Manat', 'AZN', 'AZN', 1866614, '2023-08-11T00:40:03'),
        ('Bosnia-Herzegovina Convertible Mark', 'BAM', 'BAM', 1947922, '2023-08-11T00:40:03'),
        ('Barbadian Dollar', 'BBD', 'BBD', 2217580, '2023-08-11T00:40:03'),
        ('Bangladeshi Taka', 'BDT', 'BDT', 120214884, '2023-08-11T00:40:03'),
        ('Bulgarian Lev', 'BGN', 'BGN', 1955807, '2023-08-11T00:40:03'),
        ('Bahraini Dinar', 'BHD', 'BHD', 414035, '2023-08-11T00:40:03'),
        ('Burundian Franc', 'BIF', 'BIF', 3112469077, '2023-08-11T00:40:03'),
        ('Bermudan Dollar', 'BMD', 'BMD', 1098358, '2023-08-11T00:40:03'),
        ('Brunei Dollar', 'BND', 'BND', 1477916, '2023-08-11T00:40:03'),
        ('Bolivian Boliviano', 'BOB', 'BOB', 7589511, '2023-08-11T00:40:03'),
        ('Brazilian Real', 'BRL', 'R$', 5374239, '2023-08-11T00:40:03'),
        ('Bahamian Dollar', 'BSD', 'BSD', 1098338, '2023-08-11T00:40:03'),
        ('Bhutanese Ngultrum', 'BTN', 'BTN', 90969557, '2023-08-11T00:40:03'),
        ('Botswanan Pula', 'BWP', 'BWP', 14782615, '2023-08-11T00:40:03'),
        ('Belarusian Ruble', 'BYN', 'BYN', 2772225, '2023-08-11T00:40:03'),
        ('Belarusian Ruble (2000–2016)', 'BYR', 'BYR', 21527810525, '2023-08-11T00:40:03'),
        ('Belize Dollar', 'BZD', 'BZD', 2214006, '2023-08-11T00:40:03'),
        ('Canadian Dollar', 'CAD', 'CA$', 1476923, '2023-08-11T00:40:03'),
        ('Congolese Franc', 'CDF', 'CDF', 2679993170, '2023-08-11T00:40:03'),
        ('Swiss Franc', 'CHF', 'CHF', 963038, '2023-08-11T00:40:03'),
        ('Chilean Unit of Account (UF)', 'CLF', 'CLF', 33693, '2023-08-11T00:40:03'),
        ('Chilean Peso', 'CLP', 'CLP', 929704377, '2023-08-11T00:40:03'),
        ('Chinese Yuan', 'CNY', 'CN¥', 7926298, '2023-08-11T00:40:03'),
        ('Colombian Peso', 'COP', 'COP', 4381096163, '2023-08-11T00:40:03'),
        ('Costa Rican Colón', 'CRC', 'CRC', 589332535, '2023-08-11T00:40:03'),
        ('Cuban Convertible Peso', 'CUC', 'CUC', 1098358, '2023-08-11T00:40:03'),
        ('Cuban Peso', 'CUP', 'CUP', 29106479, '2023-08-11T00:40:03'),
        ('Cape Verdean Escudo', 'CVE', 'CVE', 109821824, '2023-08-11T00:40:03'),
        ('Czech Koruna', 'CZK', 'CZK', 24225485, '2023-08-11T00:40:03'),
        ('Djiboutian Franc', 'DJF', 'DJF', 195200423, '2023-08-11T00:40:03'),
        ('Danish Krone', 'DKK', 'DKK', 7451467, '2023-08-11T00:40:03'),
        ('Dominican Peso', 'DOP', 'DOP', 62319650, '2023-08-11T00:40:03'),
        ('Algerian Dinar', 'DZD', 'DZD', 148954603, '2023-08-11T00:40:03'),
        ('Egyptian Pound', 'EGP', 'EGP', 33938156, '2023-08-11T00:40:03'),
        ('Eritrean Nakfa', 'ERN', 'ERN', 16475365, '2023-08-11T00:40:03'),
        ('Ethiopian Birr', 'ETB', 'ETB', 60569779, '2023-08-11T00:40:03'),
        ('Euro', 'EUR', '€', 1000000, '2023-08-11T00:40:03'),
        ('Fijian Dollar', 'FJD', 'FJD', 2464934, '2023-08-11T00:40:03'),
        ('Falkland Islands Pound', 'FKP', 'FKP', 863875, '2023-08-11T00:40:03'),
        ('British Pound', 'GBP', '£', 866423, '2023-08-11T00:40:03'),
        ('Georgian Lari', 'GEL', 'GEL', 2861170, '2023-08-11T00:40:03'),
        ('Ghanaian Cedi', 'GHS', 'GHS', 12329470, '2023-08-11T00:40:03'),
        ('Gibraltar Pound', 'GIP', 'GIP', 863875, '2023-08-11T00:40:03'),
        ('Gambian Dalasi', 'GMD', 'GMD', 66338723, '2023-08-11T00:40:03'),
        ('Guinean Franc', 'GNF', 'GNF', 9442894080, '2023-08-11T00:40:03'),
        ('Guatemalan Quetzal', 'GTQ', 'GTQ', 8638298, '2023-08-11T00:40:03'),
        ('Guyanaese Dollar', 'GYD', 'GYD', 229796861, '2023-08-11T00:40:03'),
        ('Hong Kong Dollar', 'HKD', 'HK$', 8588229, '2023-08-11T00:40:03'),
        ('Honduran Lempira', 'HNL', 'HNL', 27014739, '2023-08-11T00:40:03'),
        ('Croatian Kuna', 'HRK', 'HRK', 7385202, '2023-08-11T00:40:03'),
        ('Haitian Gourde', 'HTG', 'HTG', 149920234, '2023-08-11T00:40:03'),
        ('Hungarian Forint', 'HUF', 'HUF', 385457578, '2023-08-11T00:40:03'),
        ('Indonesian Rupiah', 'IDR', 'IDR', 16754348048, '2023-08-11T00:40:03'),
        ('Israeli New Shekel', 'ILS', '₪', 4073688, '2023-08-11T00:40:03'),
        ('Indian Rupee', 'INR', '₹', 91060466, '2023-08-11T00:40:03'),
        ('Iraqi Dinar', 'IQD', 'IQD', 1437951459, '2023-08-11T00:40:03'),
        ('Iranian Rial', 'IRR', 'IRR', 46474266123, '2023-08-11T00:40:03'),
        ('Icelandic Króna', 'ISK', 'ISK', 144511282, '2023-08-11T00:40:03'),
        ('Jamaican Dollar', 'JMD', 'JMD', 169678368, '2023-08-11T00:40:03'),
        ('Jordanian Dinar', 'JOD', 'JOD', 777750, '2023-08-11T00:40:03'),
        ('Japanese Yen', 'JPY', '¥', 159037757, '2023-08-11T00:40:03'),
        ('Kenyan Shilling', 'KES', 'KES', 157720022, '2023-08-11T00:40:03'),
        ('Kyrgystani Som', 'KGS', 'KGS', 96512943, '2023-08-11T00:40:03'),
        ('Cambodian Riel', 'KHR', 'KHR', 4540614762, '2023-08-11T00:40:03'),
        ('Comorian Franc', 'KMF', 'KMF', 494068786, '2023-08-11T00:40:03'),
        ('North Korean Won', 'KPW', 'KPW', 988483967, '2023-08-11T00:40:03'),
        ('South Korean Won', 'KRW', '₩', 1445944531, '2023-08-11T00:40:03'),
        ('Kuwaiti Dinar', 'KWD', 'KWD', 337910, '2023-08-11T00:40:03'),
        ('Cayman Islands Dollar', 'KYD', 'KYD', 915323, '2023-08-11T00:40:03'),
        ('Kazakhstani Tenge', 'KZT', 'KZT', 489005533, '2023-08-11T00:40:03'),
        ('Laotian Kip', 'LAK', 'LAK', 21349235894, '2023-08-11T00:40:03'),
        ('Lebanese Pound', 'LBP', 'LBP', 16486470585, '2023-08-11T00:40:03'),
        ('Sri Lankan Rupee', 'LKR', 'LKR', 351219489, '2023-08-11T00:40:03'),
        ('Liberian Dollar', 'LRD', 'LRD', 205059139, '2023-08-11T00:40:03'),
        ('Lesotho Loti', 'LSL', 'LSL', 20541647, '2023-08-11T00:40:03'),
        ('Lithuanian Litas', 'LTL', 'LTL', 3243165, '2023-08-11T00:40:03'),
        ('Latvian Lats', 'LVL', 'LVL', 664386, '2023-08-11T00:40:03'),
        ('Libyan Dinar', 'LYD', 'LYD', 5266794, '2023-08-11T00:40:03'),
        ('Moroccan Dirham', 'MAD', 'MAD', 10744935, '2023-08-11T00:40:03'),
        ('Moldovan Leu', 'MDL', 'MDL', 19435922, '2023-08-11T00:40:03'),
        ('Malagasy Ariary', 'MGA', 'MGA', 4951110410, '2023-08-11T00:40:03'),
        ('Macedonian Denar', 'MKD', 'MKD', 61620200, '2023-08-11T00:40:03'),
        ('Myanmar Kyat', 'MMK', 'MMK', 2306534196, '2023-08-11T00:40:03'),
        ('Mongolian Tugrik', 'MNT', 'MNT', 3801931063, '2023-08-11T00:40:03'),
        ('Macanese Pataca', 'MOP', 'MOP', 8843773, '2023-08-11T00:40:03'),
        ('Mauritanian Ouguiya (1973–2017)', 'MRO', 'MRO', 392113503, '2023-08-11T00:40:03'),
        ('Mauritian Rupee', 'MUR', 'MUR', 49644184, '2023-08-11T00:40:03'),
        ('Maldivian Rufiyaa', 'MVR', 'MVR', 16859603, '2023-08-11T00:40:03'),
        ('Malawian Kwacha', 'MWK', 'MWK', 1191513455, '2023-08-11T00:40:03'),
        ('Mexican Peso', 'MXN', 'MX$', 18777473, '2023-08-11T00:40:03'),
        ('Malaysian Ringgit', 'MYR', 'MYR', 5021739, '2023-08-11T00:40:03'),
        ('Mozambican Metical', 'MZN', 'MZN', 69471281, '2023-08-11T00:40:03'),
        ('Namibian Dollar', 'NAD', 'NAD', 20541193, '2023-08-11T00:40:03'),
        ('Nigerian Naira', 'NGN', 'NGN', 844900473, '2023-08-11T00:40:03'),
        ('Nicaraguan Córdoba', 'NIO', 'NIO', 40186915, '2023-08-11T00:40:03'),
        ('Norwegian Krone', 'NOK', 'NOK', 11329823, '2023-08-11T00:40:03'),
        ('Nepalese Rupee', 'NPR', 'NPR', 145551292, '2023-08-11T00:40:03'),
        ('New Zealand Dollar', 'NZD', 'NZ$', 1823966, '2023-08-11T00:40:03'),
        ('Omani Rial', 'OMR', 'OMR', 422871, '2023-08-11T00:40:03'),
        ('Panamanian Balboa', 'PAB', 'PAB', 1098388, '2023-08-11T00:40:03'),
        ('Peruvian Sol', 'PEN', 'PEN', 4060588, '2023-08-11T00:40:03'),
        ('Papua New Guinean Kina', 'PGK', 'PGK', 3990967, '2023-08-11T00:40:03'),
        ('Philippine Piso', 'PHP', '₱', 61673130, '2023-08-11T00:40:03'),
        ('Pakistani Rupee', 'PKR', 'PKR', 315889111, '2023-08-11T00:40:03'),
        ('Polish Zloty', 'PLN', 'PLN', 4444312, '2023-08-11T00:40:03'),
        ('Paraguayan Guarani', 'PYG', 'PYG', 7990898977, '2023-08-11T00:40:03'),
        ('Qatari Rial', 'QAR', 'QAR', 3999109, '2023-08-11T00:40:03'),
        ('Romanian Leu', 'RON', 'RON', 4942941, '2023-08-11T00:40:03'),
        ('Serbian Dinar', 'RSD', 'RSD', 117303564, '2023-08-11T00:40:03'),
        ('Russian Ruble', 'RUB', 'RUB', 106568194, '2023-08-11T00:40:03'),
        ('Rwandan Franc', 'RWF', 'RWF', 1295296537, '2023-08-11T00:40:03'),
        ('Saudi Riyal', 'SAR', 'SAR', 4120848, '2023-08-11T00:40:03'),
        ('Solomon Islands Dollar', 'SBD', 'SBD', 9191921, '2023-08-11T00:40:03'),
        ('Seychellois Rupee', 'SCR', 'SCR', 14591431, '2023-08-11T00:40:03'),
        ('Sudanese Pound', 'SDG', 'SDG', 660268350, '2023-08-11T00:40:03'),
        ('Swedish Krona', 'SEK', 'SEK', 11751986, '2023-08-11T00:40:03'),
        ('Singapore Dollar', 'SGD', 'SGD', 1481723, '2023-08-11T00:40:03'),
        ('St. Helena Pound', 'SHP', 'SHP', 1336427, '2023-08-11T00:40:03'),
        ('Sierra Leonean Leone', 'SLE', 'SLE', 23153568, '2023-08-11T00:40:03'),
        ('Sierra Leonean Leone', 'SLL', 'SLL', 21692564462, '2023-08-11T00:40:03'),
        ('Somali Shilling', 'SOS', 'SOS', 625512593, '2023-08-11T00:40:03'),
        ('South Sudanese Pound', 'SSP', 'SSP', 660662415, '2023-08-11T00:40:03'),
        ('Surinamese Dollar', 'SRD', 'SRD', 41941334, '2023-08-11T00:40:03'),
        ('São Tomé & Príncipe Dobra (1977–2017)', 'STD', 'STD', 22733786397, '2023-08-11T00:40:03'),
        ('Syrian Pound', 'SYP', 'SYP', 14388485391, '2023-08-11T00:40:03'),
        ('Swazi Lilangeni', 'SZL', 'SZL', 20629470, '2023-08-11T00:40:03'),
        ('Thai Baht', 'THB', 'THB', 38565515, '2023-08-11T00:40:03'),
        ('Tajikistani Somoni', 'TJS', 'TJS', 12065530, '2023-08-11T00:40:03'),
        ('Turkmenistani Manat', 'TMT', 'TMT', 3844252, '2023-08-11T00:40:03'),
        ('Tunisian Dinar', 'TND', 'TND', 3392553, '2023-08-11T00:40:03'),
        ('Tongan Paʻanga', 'TOP', 'TOP', 2603877, '2023-08-11T00:40:03'),
        ('Turkish Lira', 'TRY', 'TRY', 29721008, '2023-08-11T00:40:03'),
        ('Trinidad & Tobago Dollar', 'TTD', 'TTD', 7453060, '2023-08-11T00:40:03'),
        ('New Taiwan Dollar', 'TWD', 'NT$', 34880324, '2023-08-11T00:40:03'),
        ('Tanzanian Shilling', 'TZS', 'TZS', 2740304683, '2023-08-11T00:40:03'),
        ('Ukrainian Hryvnia', 'UAH', 'UAH', 40359368, '2023-08-11T00:40:03'),
        ('Ugandan Shilling', 'UGX', 'UGX', 4097335021, '2023-08-11T00:40:03'),
        ('US Dollar', 'USD', '$', 1098358, '2023-08-11T00:40:03'),
        ('Uruguayan Peso', 'UYU', 'UYU', 42080189, '2023-08-11T00:40:03'),
        ('Uzbekistani Som', 'UZS', 'UZS', 12814289129, '2023-08-11T00:40:03'),
        ('Venezuelan Bolívar (2008–2018)', 'VEF', 'VEF', 3411403974782, '2023-08-11T00:40:03'),
        ('Venezuelan Bolívar', 'VES', 'VES', 33023876, '2023-08-11T00:40:03'),
        ('Vietnamese Dong', 'VND', '₫', 26083249002, '2023-08-11T00:40:03'),
        ('Vanuatu Vatu', 'VUV', 'VUV', 132056393, '2023-08-11T00:40:03'),
        ('Samoan Tala', 'WST', 'WST', 3026170, '2023-08-11T00:40:03'),
        ('Central African CFA Franc', 'XAF', 'FCFA', 653311699, '2023-08-11T00:40:03'),
        ('Silver', 'XAG', 'XAG', 48392, '2023-08-11T00:40:03'),
        ('Gold', 'XAU', 'XAU', 574, '2023-08-11T00:40:03'),
        ('East Caribbean Dollar', 'XCD', 'EC$', 2968367, '2023-08-11T00:40:03'),
        ('Special Drawing Rights', 'XDR', 'XDR', 821558, '2023-08-11T00:40:03'),
        ('West African CFA Franc', 'XOF', 'FCFA', 653320586, '2023-08-11T00:40:03'),
        ('CFP Franc', 'XPF', 'CFPF', 119885498, '2023-08-11T00:40:03'),
        ('Yemeni Rial', 'YER', 'YER', 274973592, '2023-08-11T00:40:03'),
        ('South African Rand', 'ZAR', 'ZAR', 20688555, '2023-08-11T00:40:03'),
        ('Zambian Kwacha (1968–2012)', 'ZMK', 'ZMK', 9886533977, '2023-08-11T00:40:03'),
        ('Zambian Kwacha', 'ZMW', 'ZMW', 20841276, '2023-08-11T00:40:03'),
        ('Zimbabwean Dollar (2009)', 'ZWL', 'ZWL', 353670725, '2023-08-11T00:40:03'),
        ('Bitcoin', 'BTC', 'BTC', 37, '2023-08-11T00:40:03'),
        ('Guernsey Pound', 'GGP', 'GGP', 863875, '2023-08-11T00:40:03'),
        ('Manx Pound', 'IMP', 'IMP', 863875, '2023-08-11T00:40:03'),
        ('Jersey Pound', 'JEP', 'JEP', 863875, '2023-08-11T00:40:03');